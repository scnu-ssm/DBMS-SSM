<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.scnu.dao.TableMapper">
        
     <delete id="deleteRecord">
           delete from ${database}.${table} where 
           <foreach collection="oldRecord" separator="and" index="key" item="value">
                #{key} = #{value}
           </foreach>
           limit 1
     </delete>
     
     <update id="updateRecord">
           update ${database}.${table} set
           <foreach collection="newRecord" separator="and" index="key" item="value">
                 #{key} = #{value}
           </foreach>
           where
           <foreach collection="oldRecord" separator="and" index="key" item="value">
                 #{key} = #{value}
           </foreach>
     </update>
     
     <insert id="insertRecord">
           insert into ${database}.${table} 
           <foreach collection="newRecord" separator="," index="key" open="(" close=")">
                  #{key}
           </foreach>
           values
           <foreach collection="newRecord" separator="," item="value" open="(" close=")">
                  #{value}
           </foreach>
     </insert>
     
     <select id="selectRecords" resultType="java.util.LinkedHashMap">
           select * from ${database}.${table}
     </select>
     
     <select id="selectRecord" resultType="java.util.LinkedHashMap">
           select * from ${database}.${table} where
           <foreach collection="oldRecord" separator="and" index="key" item="value">
                   #{key} = #{value}
           </foreach>
     </select>
     
     
</mapper>